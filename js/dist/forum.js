(()=>{var o={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return o.d(r,{a:r}),r},d:(t,r)=>{for(var e in r)o.o(r,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},t={};(()=>{"use strict";o.r(t);const r=flarum.core.compat["forum/app"];var e=o.n(r);const a=flarum.core.compat["common/extend"],n=flarum.core.compat["common/Model"];var s=o.n(n);const c=flarum.core.compat["common/models/Post"];var u=o.n(c);const l=flarum.core.compat["forum/components/CommentPost"];var i=o.n(l);const p=flarum.core.compat["common/components/Tooltip"];var d=o.n(p);const f=flarum.core.compat["common/components/Button"];var v=o.n(f);const y=flarum.core.compat["forum/utils/PostControls"];var b=o.n(y);function w(o,t){return w=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o},w(o,t)}const h=flarum.core.compat["common/components/Modal"];var _=function(o){var t,r;function a(){return o.apply(this,arguments)||this}r=o,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,w(t,r);var n=a.prototype;return n.className=function(){return"HtmlViewModal Modal--large"},n.title=function(){return e().translator.trans("blomstra-conversations.forum.post.source-raw-heading")},n.content=function(){var o=this.attrs.sourceRaw;return this.attrs.source?m("div",{className:"Modal-body"},m("code",null,o)):m("div",{className:"Modal-body"},m.trust(o))},a}(o.n(h)());e().initializers.add("blomstra/conversations",(function(){u().prototype.source=s().attribute("source"),u().prototype.sourceData=s().attribute("source_data"),u().prototype.sourceRaw=s().attribute("source_raw"),(0,a.extend)(i().prototype,"headerItems",(function(o){var t=this.attrs.post.source(),r=this.attrs.post.sourceData();if(t){var a,n=e().translator.trans("blomstra-conversations.forum.post.source."+t),s="ConversationSource";a=t&&!r?m("span",{className:s},n):m(d(),{text:r},m("span",{className:s},n)),o.add("source",a,90)}})),(0,a.extend)(b(),"moderationControls",(function(o,t){var r=t.sourceRaw();r&&(o.add("sourceRawHtml",m(v(),{class:"Button",icon:"fas fa-file-code",onclick:function(){e().modal.show(_,{sourceRaw:r,source:!1})}},e().translator.trans("blomstra-conversations.forum.post.controls.view")),85),o.add("sourceRaw",m(v(),{class:"Button",icon:"fas fa-file-code",onclick:function(){e().modal.show(_,{sourceRaw:r,source:!0})}},e().translator.trans("blomstra-conversations.forum.post.controls.view-code")),80))}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map